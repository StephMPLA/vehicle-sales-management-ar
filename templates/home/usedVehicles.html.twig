{% extends 'base.html.twig' %}

{% block title %}Accueil{% endblock %}

{% block body %}

{#    #}{# HERO SECTION â€” IMAGE FOND #}
{#    <section class="relative h-[70vh] flex items-center justify-center text-white">#}

{#        <img src="{{ asset('images/alfaBg.jpg') }}"#}
{#             class="absolute inset-0 w-full h-full object-cover object-[center_70%]"#}
{#             alt="Background">#}

{#        <div class="absolute inset-0 bg-black/60"></div>#}

{#        <div class="relative text-center px-6 max-w-3xl w-full">#}

{#            <h1 class="text-4xl md:text-6xl font-bold mb-6">#}
{#                Find your dream vehicle#}
{#            </h1>#}

{#            <p class="text-lg md:text-xl mb-8 text-gray-200">#}
{#                Exceptional vehicles â€¢ Carefully selected â€¢ Fully inspected#}
{#            </p>#}

{#            #}{# ðŸ”Ž Search form #}
{#            <form method="get" action="#"#}
{#                  class="flex flex-col md:flex-row gap-3 justify-center">#}

{#                <input#}
{#                    type="text"#}
{#                    name="q"#}
{#                    placeholder="Search by brand, model or vehicle..."#}
{#                    class="w-full md:w-96 px-5 py-4 rounded-lg text-gray-900 bg-white text-lg focus:outline-none focus:ring-2 focus:ring-red-500 shadow-lg"#}
{#                >#}

{#                <button#}
{#                    type="submit"#}
{#                    class="bg-red-600 hover:bg-red-700 transition px-8 py-4 rounded-lg text-lg font-semibold shadow-lg">#}
{#                    Search#}
{#                </button>#}

{#            </form>#}

{#        </div>#}

{#    </section>#}


    <section id="vehicles" class="max-w-7xl mx-auto px-6 py-16">

        <h2 class="text-3xl font-bold mb-12 text-center">
            Vehicles Available
        </h2>

        {# ================= COUNTERS ================= #}
        <div class="grid grid-cols-2 gap-6 mb-12 text-center">

            <div class="bg-white p-6 rounded shadow">
                <div class="text-3xl font-bold">
                    {{ vehicleCount.vehicles }}
                </div>
                {% if vehicleCount.vehicles > 1 %}
                    <div class="text-gray-500">
                        Vehicles available
                    </div>
                {% else %}
                    <div class="text-gray-500">
                        Vehicle available
                    </div>
                {% endif %}
            </div>

            <div class="bg-white p-6 rounded shadow">
                <div class="text-3xl font-bold">
                    {{ vehicleCount.brands }}
                </div>
                <div class="text-gray-500">
                    Brands
                </div>
            </div>

        </div>

        {# ================= EMPTY STATE ================= #}
        {% if vehicles is empty %}
            <p class="text-center text-gray-500">
                No vehicles available at the moment.
            </p>
        {% else %}

            {# ================= VEHICLE GRID ================= #}
            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">

                {% for v in vehicles %}
                    <a href="{{ path('app_vehicle_show', {id: v.id}) }}"
                       class="block bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-2xl hover:-translate-y-1 discoursetransition">

                        {# IMAGE PRINCIPALE #}
                        {% if v.images|length > 0 %}
                            <img src="/uploads/vehicles/{{ v.images|first.path }}"
                                 alt="{{ v.images|first.alt }}"
                                 class="w-full h-56 object-cover">
                        {% else %}
                            <img src="{{ asset('uploads/noImageAvailable.png') }}"
                                 class="w-full h-56 object-cover"
                                 alt="vehicle">
                        {% endif %}

                        <div class="p-6">

                            <h3 class="text-xl font-bold mb-2">
                                {{ v.name }}
                            </h3>

                            <p class="text-gray-600 mb-2">
                                {{ v.brand.name }} â€¢ {{ v.year }}
                            </p>

                            <p class="text-gray-500 text-sm mb-2">
                                {{ v.mileage|number_format(0, ',', ' ') }} km
                            </p>

                            <p class="text-gray-900 font-semibold text-lg mb-4">
                                {{ v.price|number_format(0, ',', ' ') }} â‚¬
                            </p>

                            <div class="flex flex-wrap gap-2 text-xs">
            <span class="bg-gray-200 px-3 py-1 rounded">
                {{ v.category.name }}
            </span>
                                <span class="bg-gray-200 px-3 py-1 rounded">
                {{ v.fuel.name }}
            </span>
                                <span class="bg-gray-200 px-3 py-1 rounded">
                {{ v.transmission.name }}
            </span>
                            </div>
                        </div>
                    </a>
                {% endfor %}
            </div>
        {% endif %}
    </section>
{% endblock %}
